<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="admin/partials/head :: head(title = 'Dashboard')"></head>


<body data-theme="default" data-layout="fluid" data-sidebar-position="left" data-sidebar-layout="default">
<div class="wrapper">
    <nav th:replace="admin/partials/sidebar :: sidebar(href='/admin')"></nav>

    <div class="main">
        <nav th:replace="admin/partials/navbar"></nav>

        <main class="content">
            <div class="container-fluid p-0">

                <div class="row mb-2 mb-xl-3">
                    <div class="col-auto d-none d-sm-block">
                        <h3><strong>Analytics</strong> Dashboard</h3>
                    </div>

                    <div class="col-auto ms-auto text-end mt-n1">
                        <a href="/admin/members/add" class="btn btn-light bg-white me-2">Invite a Student</a>
                        <a href="/admin/events/add" class="btn btn-primary">New Event</a>
                    </div>
                </div>
                <div class="row">
                    <div class=" d-flex">
                        <div class="w-100">
                            <div class="row">
                                <div class="col-sm-3">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col mt-0">
                                                    <h5 class="card-title">Users</h5>
                                                </div>
                                                <div class="col-auto">
                                                    <div class="stat text-primary">
                                                        <i class="align-middle" data-feather="users"></i>
                                                    </div>
                                                </div>
                                            </div>
                                            <h1 class="mt-1 mb-3">155</h1>
                                            <div class="mb-0">
                                                <span class="badge badge-primary-light"> <i
                                                        class="mdi mdi-arrow-bottom-right"></i> +3.65% </span>
                                                <span class="text-muted">Since last week</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col mt-0">
                                                    <h5 class="card-title">Events</h5>
                                                </div>
                                                <div class="col-auto">
                                                    <div class="stat text-primary">
                                                        <i class="align-middle" data-feather="calendar"></i>
                                                    </div>
                                                </div>
                                            </div>
                                            <h1 class="mt-1 mb-3">6</h1>
                                            <div class="mb-0">
                                                <span class="badge badge-success-light"> <i
                                                        class="mdi mdi-arrow-bottom-right"></i> 20% </span>
                                                <span class="text-muted">Since last week</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col mt-0">
                                                    <h5 class="card-title">Join Requests</h5>
                                                </div>
                                                <div class="col-auto">
                                                    <div class="stat text-primary">
                                                        <i class="align-middle" data-feather="user-plus"></i>
                                                    </div>
                                                </div>
                                            </div>
                                            <h1 class="mt-1 mb-3">30</h1>
                                            <div class="mb-0">
                                                <span class="badge badge-success-light"> <i
                                                        class="mdi mdi-arrow-bottom-right"></i> 10% </span>
                                                <span class="text-muted">Since last week</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col mt-0">
                                                    <h5 class="card-title">News Letter Emails</h5>
                                                </div>
                                                <div class="col-auto">
                                                    <div class="stat text-primary">
                                                        <i class="align-middle" data-feather="mail"></i>
                                                    </div>
                                                </div>
                                            </div>
                                            <h1 class="mt-1 mb-3">64</h1>
                                            <div class="mb-0">
                                                <span class="badge badge-danger-light"> <i
                                                        class="mdi mdi-arrow-bottom-right"></i> -2.25% </span>
                                                <span class="text-muted">Since last week</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>


                <div class="row">

                    <div class="container-fluid p-0">

                        <div class="mb-3">
                            <h1 class="h3 d-inline align-middle">Calendar</h1>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title">FSDM IT Club Events</h5>
                                <h6 class="card-subtitle text-muted">Scheduled Events</h6>
                            </div>
                            <div class="card-body">
                                <div id="fullcalendar"></div>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </main>

        <footer th:replace="admin/partials/footer"></footer>
    </div>
</div>

<script src="/admin/js/app.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        var date = new Date(Date.now() - 5 * 24 * 60 * 60 * 1000);
        var defaultDate = date.getUTCFullYear() + "-" + (date.getUTCMonth() + 1) + "-" + date.getUTCDate();
        document.getElementById("datetimepicker-dashboard").flatpickr({
            inline: true,
            prevArrow: "<span class=\"fas fa-chevron-left\" title=\"Previous month\"></span>",
            nextArrow: "<span class=\"fas fa-chevron-right\" title=\"Next month\"></span>",
            defaultDate: defaultDate
        });
    });
</script>

<script>
    document.addEventListener("DOMContentLoaded", function (event) {
        setTimeout(function () {
            if (localStorage.getItem('popState') !== 'shown') {
                window.notyf.open({
                    type: "success",
                    message: "jassa",
                    duration: 10000,
                    ripple: true,
                    dismissible: false,
                    position: {
                        x: "left",
                        y: "bottom"
                    }
                });

                localStorage.setItem('popState', 'shown');
            }
        }, 15000);
    });
</script>

<script src="/admin/js/fullcalendar.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        var calendarEl = document.getElementById("fullcalendar");
        var calendar = new FullCalendar.Calendar(calendarEl, {
            themeSystem: "bootstrap5",
            initialView: "dayGridMonth",
            initialDate: "2024-07-07",
            bootstrapFontAwesome: {
                close: 'fa-times',
                prev: 'fa-chevron-left',
                next: 'fa-chevron-right',
                prevYear: 'fa-angle-double-left',
                nextYear: 'fa-angle-double-right'
            },
            buttonText: {
                today: 'Today',
                month: 'Month',
                week: 'Week',
                day: 'Day'
            },
            headerToolbar: {
                left: "prev,next today",
                center: "title",
                right: "dayGridMonth,timeGridWeek,timeGridDay"
            },
            events: [
                {
                    title: "All Day Event",
                    start: "2024-07-01",
                    description: "This event lasts all day."
                },
                {
                    title: "Long Event",
                    start: "2024-07-07",
                    end: "2024-07-10",
                    description: "A multi-day event example."
                },
                {
                    title: "Meeting",
                    start: "2024-07-12T10:30:00",
                    end: "2024-07-12T12:30:00",
                    description: "A business meeting."
                },
                {
                    title: "Birthday Party",
                    start: "2024-07-13T07:00:00",
                    description: "Celebrate someone's birthday!"
                }
            ],
            eventMouseEnter: function (info) {
                // Create a tooltip element
                var tooltip = document.createElement('div');
                tooltip.className = 'tooltip-event';
                tooltip.innerHTML = `
                <strong>${info.event.title}</strong><br/>
                ${info.event.extendedProps.description || 'No details available'}
            `;
                tooltip.style.position = 'absolute';
                tooltip.style.background = '#fff';
                tooltip.style.border = '1px solid #ccc';
                tooltip.style.padding = '10px';
                tooltip.style.boxShadow = '0 2px 5px rgba(0, 0, 0, 0.2)';
                tooltip.style.zIndex = '10000';
                tooltip.style.top = `${info.jsEvent.pageY + 10}px`;
                tooltip.style.left = `${info.jsEvent.pageX + 10}px`;
                tooltip.id = 'tooltip-' + info.event.id;

                document.body.appendChild(tooltip);
            },
            eventMouseLeave: function (info) {
                // Remove the tooltip element when the mouse leaves
                var tooltip = document.getElementById('tooltip-' + info.event.id);
                if (tooltip) {
                    tooltip.remove();
                }
            }
        });

        setTimeout(function () {
            calendar.render();
        }, 250);
    });</script>

</body>

</html>